.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "PASSFZF-CAPTURE 1"
.TH PASSFZF-CAPTURE 1 2025-11-09 "perl v5.40.1" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
passfzf\-capture \- wrapper for passfzf
.SH USAGE
.IX Header "USAGE"
\&\fBpassfzf-capture\fR
.PP
\&\fBpassfzf-capture \-h\fR
.SH DESCRIPTION
.IX Header "DESCRIPTION"
A wrapper for \fBpassfzf\fR. The script \fBpassfzf\fR is a console utility that uses
\&\fBfzf\fR to select a \fBpass\fR name and choose what password-related operation to
perform. Some of those operations result in a password being sent to the X
clipboard selection.
.PP
This script is designed to address a problem with \fBpassfzf\fR: if a shell
command invokes a new terminal, \fBalacritty\fR in the test case, to run
\&\fBpassfzf\fR, the 'clipped' passwords do not appear in the system's X clipboard
selection.
.PP
This script runs \fBpassfzf\fR the same way, but invokes it in such a way that any
clipped password is saved to a specified disk file. This script then harvests
the clipped password and sends it to the system clipboard.
.SS "Different clipping behaviour"
.IX Subsection "Different clipping behaviour"
The \fBpass\fR utility is well-behaved with respect to X selections. It sends the
clipped password to the X clipboard selection and, after 45 seconds, restores
the X clipboard selection to its previous state.
.PP
This script is not nearly so well-behaved. It sends the clipped password to all
3 X selections: primary, secondary and clipboard. After 45 seconds it clears
all 3 X selections.
.PP
The reason for the different behaviour is due to limitations in \fBxclip\fR (tried
and abandoned as part of the solution) and the Clipboard module.
.SH CONFIGURATION
.IX Header "CONFIGURATION"
This script does not use configuration files or environmental variables.
.SH "REQUIRED ARGUMENTS"
.IX Header "REQUIRED ARGUMENTS"
None.
.SH OPTIONS
.IX Header "OPTIONS"
.IP "\fB\-h\fR  \fB\-\-help\fR" 4
.IX Item "-h --help"
Display help and exit.
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
The exit code is 0 for successful execution and 1 if the script does a
controlled exit following an error. If the script crashes unexpectedly the
error code is that given by the system.
.SH DIAGNOSTICS
.IX Header "DIAGNOSTICS"
See \fBpassfzf\fR, \fBpass\fR and \fBfzf\fR for the errors and warnings those apps
emit.
.SH INCOMPATIBILITIES
.IX Header "INCOMPATIBILITIES"
There are no known incompatibilities.
.SH "BUGS AND LIMITATIONS"
.IX Header "BUGS AND LIMITATIONS"
Please report any bugs to the author.
.SH DEPENDENCIES
.IX Header "DEPENDENCIES"
.SS "Perl modules"
.IX Subsection "Perl modules"
Clipboard, Const::Fast, Moo, MooX::HandlesVia, MooX::Options, namespace::clean,
Path::Tiny, strictures, Types::Standard, version.
.SS Executables
.IX Subsection "Executables"
alacritty, fzf, pass, passfzf.
.SH AUTHOR
.IX Header "AUTHOR"
David Nebauer <mailto:david[at]nebauer[dot]org>
.SH "LICENSE AND COPYRIGHT"
.IX Header "LICENSE AND COPYRIGHT"
Copyright (c) 2025 David Nebauer <mailto:david[at]nebauer[dot]org>
.PP
This script adopts the licensing of \fBpassfzf\fR chosen by its original author,
Mathieu Laparie <mailto:mlaparie[at]disr[dot]it>:
.PP
MIT License
.PP
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
.PP
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
.PP
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
