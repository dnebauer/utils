dn-mc-ext README
================

Midnight Commander (mc) is a file browser.  Much of its
power comes from its ability to configure how to open and
view different file types.  This configuration is done via
'extension files'.  These files contain entries based on
file extensions, file types and mime types.  When a file is
opened or viewed the extension file is searched for a
matching entry and the first match is used.

Determining which extension file to use is a little
unwieldy.  There is a global extension file
('/ext/mc/mc.ext') which is used by default.  If a local
extension file ('~/.config/mc/mc.ext') is present then it
is used instead of the global file, and the global
extension file is *not* used.  There is no way to call the
global extension file from the local one.  In fact, there
is *no* way to call both local and global extension files.

The only way to maintain a local extension file without the
overhead of tracking changes in the package's global
extension file is to keep local changes in a 'changes' file
and periodically regenerate the local extension file by
concatenating the 'changes' file and the global extension
file as saving the result as the local extension file.

Midnight Commander also has a user-configurable menu system
controlled by 'menu files'. These configuration files
determine the options in the user menu (F2). As with
extension files, there is a global menu file
('/etc/mc/mc.menu') which is used by default.  A local menu
file ('~/.config/mc/menu') will be used if present and
there is no way for it to call the global menu file. As
with extension files, local menu items are kept in a local
'changes' and the local menu file is periodically
regenerated by concatenating the 'changes' file and global
menu file.

This package provides local 'changes' files for extensions
('/usr/share/dn-mc-conf/mc.ext') and menu items
('/usr/share/dn-mc-conf/menu'), and a daily cron script
('/etc/cron-daily/dn-mc-conf') that regenerates local mc
extension and menu files. The cron script writes feedback
to the system log.

A script, dn-mc-conf, is supplied. It is a wrapper for the
daily cron script enabling it to be called directly.
