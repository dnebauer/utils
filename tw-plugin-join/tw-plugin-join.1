.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.40)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "TW-PLUGIN-JOIN 1"
.TH TW-PLUGIN-JOIN 1 "2019-10-31" "perl v5.32.1" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
tw\-plugin\-join \- compact server\-type TiddlyWiki plugin to a single file
.SH "USAGE"
.IX Header "USAGE"
\&\fBtw-plugin-join\fR [\fB\-f\fR \fIformat\fR] \fBplugin_directory\fR
.PP
\&\fBtw-unplug-join \-h\fR
.SH "REQUIRED ARGUMENTS"
.IX Header "REQUIRED ARGUMENTS"
.IP "\fBplugin_directory\fR" 4
.IX Item "plugin_directory"
Path of the plugin's root directory.
.Sp
Directory path. Required.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-f\fR  \fB\-\-format\fR" 4
.IX Item "-f --format"
Format of output plugin file. Must be 'tid' or 'json'.
.Sp
Scalar string. Optional. Default: 'tid'.
.IP "\fB\-h\fR" 4
.IX Item "-h"
Display help and exit.
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
There are, broadly speaking, two type of TiddlyWiki5 <https://tiddlywiki.com/>
wikis:
.IP "\(bu" 4
Single-file html wikis which are directly opened in web browsers. This was the
first type of wiki developed and is still the most used type.
.IP "\(bu" 4
Client-server wikis in which wiki content is served from a node.js server while
the client uses a web-browser interface.
.PP
There are also two types of tiddlywiki plugins:
.IP "\(bu" 4
Single-file plugins in which a single file contains all tiddler for a plugin.
This file can either be in \f(CW\*(C`tid\*(C'\fR or \f(CW\*(C`json\*(C'\fR format.
.Sp
This is the only plugin format compatible with single-file wikis, but they can
also be used in client wikis in a client-server installation.
.IP "\(bu" 4
Multiple-file wikis in which each tiddler in a plugin has its own file. Each
plugin has a dedicated directory, and may contain multiple levels of
subdirectories. In a client-server configuration this style of plugin can be
installed in a client wiki or in the server installation; in the latter case it
is available to all client wikis served by the server. There is a nominated
\&\fIplugins\fR directory in each client wiki, and in the server installation, under
which these plugins are installed.
.Sp
This plugin format is not compatible with single-file wikis.
.PP
This script accepts a base directory for a multiple-file plugin. It joins these
files (and their contained tiddlers) into a single plugin tiddler which is
output as a single file.
.PP
The format of the outputted file can be \f(CW\*(C`tid\*(C'\fR (default) or \f(CW\*(C`json\*(C'\fR, and is
specified with the \f(CW\*(C`\-f\*(C'\fR (\f(CW\*(C`\-\-format\*(C'\fR) option.
.PP
The output file is written to the current directory. The file name is the
plugin name converted according to tiddlywiki conventions, i.e., slashes and
colons converted to underscores. For example, the \fI\f(CI$:\fI/plugins/kookma/shiraz\fR
plugin would be output to the \fI\f(CI$_\fI\|_plugins_kookma_shiraz\fR file. If the file
already exists in the current directory, the user is asked whether or not to
overwrite it. The script aborts if the user elects not to overwrite the
existing file.
.SS "Conversion details"
.IX Subsection "Conversion details"
This section provides details of the conversion process to assist in
troubleshooting.
.PP
\fIExtract tiddler titles from files\fR
.IX Subsection "Extract tiddler titles from files"
.PP
In addition to extracting tiddler titles from each file, an attempt is also
made to work out which deserializer is needed for each file. Unfortunately,
this was not entirely successful; for example, none of the available
deserializers work with \fIcss\fR files. So, instead of using the \f(CW\*(C`\-\-import\*(C'\fR
command, which requires a deserializer to be specified for each file, the
\&\f(CW\*(C`\-\-load\*(C'\fR command is used. The \f(CW\*(C`\-\-load\*(C'\fR command infers from a file's extension
which deserializer to use for it. (Presumably it has access to more
deserializers than \f(CW\*(C`\-\-import\*(C'\fR, since it is able to handle \fIcss\fR files.)
.PP
\fICreate custom macro\fR
.IX Subsection "Create custom macro"
.PP
The custom macro \f(CW\*(C`plugintiddlerstext\*(C'\fR outputs a set of tiddlers in a format
suitable for use in a parent plugin file's text field. The macro is provided by
the file \fIplugintiddlerstext.js\fR, which is created in a temporary directory.
Here is the content of the file which defines tiddler
\&\fI\f(CI$:\fI/.dtn/modules/macros/plugintiddlerstext.js\fR:
.PP
.Vb 4
\&    /*\e
\&    title: $:/.dtn/modules/macros/plugintiddlerstext.js
\&    type: application/javascript
\&    module\-type: macro
\&    
\&    Macro to output tiddlers matching a filter to JSON in a format
\&    usable for plugin tiddler \*(Aqtext\*(Aq fields
\&    
\&    \e*/
\&    (function(){
\&    
\&    /*jslint node: true, browser: true */
\&    /*global $tw: false */
\&    "use strict";
\&    
\&    /*
\&    Information about this macro
\&    */
\&    
\&    exports.name = "plugintiddlerstext";
\&    
\&    exports.params = [
\&        {name: "filter"}
\&    ];
\&    
\&    /*
\&    Run the macro
\&    */
\&    exports.run = function(filter) {
\&        var tiddlers = this.wiki.filterTiddlers(filter),
\&            tiddlers_data = new Object(),
\&            data = new Object();
\&        for(var t=0;t<tiddlers.length; t++) {
\&            var tiddler = this.wiki.getTiddler(tiddlers[t]);
\&            if(tiddler) {
\&                var fields = new Object();
\&                for(var field in tiddler.fields) {
\&                    fields[field] = tiddler.getFieldString(field);
\&                }
\&                var title = tiddler.getFieldString(\*(Aqtitle\*(Aq);
\&                tiddlers_data[title] = fields;
\&            }
\&        }
\&        data[\*(Aqtiddlers\*(Aq] = tiddlers_data;
\&        return JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);
\&    };
\&    
\&    })();
.Ve
.PP
\fICustomised templates for setfield commands\fR
.IX Subsection "Customised templates for setfield commands"
.PP
These templates are used by the \f(CW\*(C`\-\-setfield\*(C'\fR command to create and populate
\&\*(L"type\*(R" and \*(L"text\*(R" fields in the plugin tiddler file.
.PP
One template is standard for all conversions: adding a \*(L"type\*(R" field set to
\&\*(L"application/json\*(R". This template is called
\&\fI\f(CI$:\fI/.dtn/templates/plugin\-tiddlers\-type\fR. It is provided by the file
\&\fIplugintiddlerstext.tid\fR, which is written to a temporary directory and has
the content:
.PP
.Vb 1
\&    title: $:/core/templates/.dtn/plugin\-tiddlers\-type
\&    
\&    <!\-\-
\&    
\&    This template is for setting plugin field \*(Aqtype\*(Aq to \*(Aqapplication/json\*(Aq
\&    
\&    \-\-><$text text=\*(Aqapplication/json\*(Aq/>
.Ve
.PP
Another template needs to be customised for each conversion project as it needs
to specify the tiddlers included in the plugin. It does this by calling the
macro \fI\f(CI$:\fI/.dtn/modules/macros/plugintiddlerstext.js\fR discussed above. This
template is called \fI\f(CI$:\fI/.dtn/templates/plugin\-tiddlers\-text\fR. It is provided by
the file \fIplugintiddlerstext.tid\fR and has the content:
.PP
.Vb 1
\&    title: $:/core/templates/.dtn/plugin\-tiddlers\-text
\&
\&    <!\-\-
\&
\&    This template is for saving tiddlers for use in a plugin tiddler\*(Aqs text field
\&
\&    \-\-><$text text=<<plugintiddlerstext "[prefix[$:/plugins/.dtn/insert\-table/]] =[[$:/config/plugin/.dtn/insert\-table/style\-sets]]">>/>
.Ve
.PP
Plugin tiddlers are customarily prefixed with the plugin name. These plugin
tiddlers are specified using the \f(CW\*(C`prefix\*(C'\fR filter operator. Any plugin tiddlers
not prefixed with the plugin name are added to the filter individually using
the \f(CW\*(C`=\*(C'\fR filter prefix.
.PP
\fIImport server plugin files\fR
.IX Subsection "Import server plugin files"
.PP
All server plugin files and custom files are imported into a new wiki with a
single \f(CW\*(C`tiddlywiki\*(C'\fR command using multiple commands: the \f(CW\*(C`\-\-load\*(C'\fR command for
all import files except \fIplugin.info\fR, for which an \fI\-\-import\fR command is
used with the \*(L"application/json\*(R" deserializer. The files defining the custom
macro \fIplugintiddlerstext.js\fR, and custom templates \fIplugin-tiddlers-type\fR
and \fIplugin-tiddlers-text\fR, are also imported with \f(CW\*(C`\-\-load\*(C'\fR commands.
.PP
This \f(CW\*(C`tiddlywiki\*(C'\fR command creates a new wiki in memory. It is not possible to
perform any more operations on this wiki in the same command that loads the
files, so the wiki is saved to a temporary directory. This saved version of the
wiki will be further altered with more \f(CW\*(C`tiddlywiki\*(C'\fR commands.
.PP
Here is a sample \f(CW\*(C`tiddlywiki\*(C'\fR command in which plugin files are located in
\&\fI\f(CI$PLUG_DIR\fI\fR, custom files are located in \fI\f(CI$EXTRA\fI\fR, and the wiki is saved to
the \fI\f(CI$TMP\fI\fR directory:
.PP
.Vb 10
\&    tiddlywiki \e
\&        \-\-load $PLUG_DIR/macros.tid \e
\&        \-\-load $PLUG_DIR/macros\-helper.tid \e
\&        \-\-load $PLUG_DIR/style\-sets.tid \e
\&        \-\-load $PLUG_DIR/plugin.info \e
\&        \-\-load $PLUG_DIR/doc/credits.tid \e
\&        \-\-load $PLUG_DIR/doc/dependencies.tid \e
\&        \-\-load $PLUG_DIR/doc/license.tid \e
\&        \-\-load $PLUG_DIR/doc/readme.tid \e
\&        \-\-load $PLUG_DIR/doc/usage.tid \e
\&        \-\-load $PLUG_DIR/js/enlist\-operator.js \e
\&        \-\-load $PLUG_DIR/js/uuid\-macro.js \e
\&        \-\-load $EXTRA/plugintiddlerstype.tid \e
\&        \-\-load $EXTRA/plugintiddlerstext.tid \e
\&        \-\-load $EXTRA/plugintiddlerstext.js \e
\&        \-\-savewikifolder $TMP
.Ve
.PP
\fIAdd plugin tiddlers to parent plugin tiddler\fR
.IX Subsection "Add plugin tiddlers to parent plugin tiddler"
.PP
When a plugin is created in tiddlywiki a \*(L"parent\*(R" plugin tiddler is created
having the same name as the plugin, e.g., \fI\f(CI$:\fI/plugins/AUTHOR/PLUGIN\fR. In this
step the plugin files are added to the \*(L"text\*(R" field of the \*(L"parent\*(R" tiddler as
a stringified json object. This is done using the \fIplugintiddlerstext\fR macro
and \fIplugin-tiddlers-text\fR template imported earlier.
.PP
In addition, the \*(L"parent\*(R" plugin tiddler \*(L"type\*(R" is set to \*(L"application/json\*(R"
using the \fIplugin-tiddlers-type\fR template imported earlier.
.PP
Here is an example command used in this step. Once again it is not possible to
performs any further operations on the wiki in this command other than the
\&\f(CW\*(C`\-\-setfield\*(C'\fR operations. There is no way to save the altered wiki in place, so
it is saved to another temporary directory, in this example the one specified
in \fI\f(CI$FINAL\fI\fR.
.PP
.Vb 10
\&    tiddlywiki $TMP \e
\&        \-\-setfield \e
\&            "[[$:/plugins/.dtn/insert\-table]]" \e
\&            "text" \e
\&            "$:/.dtn/templates/plugin\-tiddlers\-text" \e
\&            "text/plain" \e
\&        \-\-setfield \e
\&            "[[$:/plugins/.dtn/insert\-table]]" \e
\&            "type" \e
\&            "$:/.dtn/templates/plugin\-tiddlers\-type" \e
\&            "text/plain" \e
\&        \-\-savewikifolder \e
\&            $FINAL
.Ve
.PP
\fIWrite plugin file to disk\fR
.IX Subsection "Write plugin file to disk"
.PP
In this step the \*(L"parent\*(R" plugin tiddler, which now contains all the plugin
tiddlers in its \*(L"text\*(R" field, is exported to disk. It can be exported in \*(L"tid\*(R"
or \*(L"json\*(R" format. The name of the file is derived from the plugin tiddler title
using standard tiddlywiki conventions, i.e., any \f(CW\*(C`/\*(C'\fR and \f(CW\*(C`:\*(C'\fR characters are
converted to \f(CW\*(C`_\*(C'\fR.
.PP
This is an example command outputting to \*(L"tid\*(R" format:
.PP
.Vb 6
\&    tiddlywiki $FINAL \e
\&        \-\-render \e
\&            "[[$:/plugins/.dtn/insert\-table]]" \e
\&            "\e$_\|_plugins_.dtn_insert\-table.tid" \e
\&            "text/plain" \e
\&            "$:/core/templates/tid\-tiddler"
.Ve
.PP
This is an example command outputting to \*(L"json\*(R" format:
.PP
.Vb 6
\&    tiddlywiki $FINAL \e
\&        \-\-render \e
\&            "[[$:/plugins/.dtn/insert\-table]]" \e
\&            \*(Aq$_\|_plugins_.dtn_insert\-table.json\*(Aq \e
\&            "text/plain" \e
\&            "$:/core/templates/json\-tiddler"
.Ve
.PP
Note the filename given as the second parameter to the \f(CW\*(C`\-\-render\*(C'\fR command. The
\&\f(CW\*(C`$\*(C'\fR requires special care: if using double quotes it must be
backslash-escaped, but escaping is unnecessary if using single quotes.
.PP
The file is written to the \fIoutput\fR subdirectory of the wiki. In the example
above, the output plugin file would be written to \fI\f(CI$FINAL\fI/output\fR.
.PP
\fICopy the output file to the current directory\fR
.IX Subsection "Copy the output file to the current directory"
.PP
If the current directory already contains a file with the same name as the
output plugin file, the user is asked whether or not to overwrite it.
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
These fatal error messages can occur.
.RS 4
.IP "Cannot read file '$FILE'" 4
.IX Item "Cannot read file '$FILE'"
This error occurs when a file's content cannot be read, most likely because the
user does not have permission to read it.
.ie n .IP "Expected 1 command line argument, got $N" 4
.el .IP "Expected 1 command line argument, got \f(CW$N\fR" 4
.IX Item "Expected 1 command line argument, got $N"
This occurs if multiple arguments are provided on the command line. Note that
this error may occur if a single directory contains unescaped spaces.
.ie n .IP "Expected 1 format, got $N" 4
.el .IP "Expected 1 format, got \f(CW$N\fR" 4
.IX Item "Expected 1 format, got $N"
This error occurs if the user provides multiple \f(CW\*(C`f\*(C'\fR (\f(CW\*(C`\-\-format\*(C'\fR) options.
.ie n .IP "Expected 1 output file in '\s-1DIR\s0' found $N" 4
.el .IP "Expected 1 output file in '\s-1DIR\s0' found \f(CW$N\fR" 4
.IX Item "Expected 1 output file in 'DIR' found $N"
This error indicates that plugin file output went awry. Specifically, the
output directory contains too many files, i.e., more than one.
.ie n .IP "Expected string or arrayref, got $REF" 4
.el .IP "Expected string or arrayref, got \f(CW$REF\fR" 4
.IX Item "Expected string or arrayref, got $REF"
This error occurs when attempting to read a json plugin file to extract the
\&\*(L"title\*(R" field value. It indicates the data provided to the extraction method
was neither a string or an array reference. This is an internal script error
that should not occur in normal operation.
.ie n .IP "Expected strings, got a $REF" 4
.el .IP "Expected strings, got a \f(CW$REF\fR" 4
.IX Item "Expected strings, got a $REF"
This error occurs when attempting to read a json plugin file to extract the
\&\*(L"title\*(R" field value. It indicates that an array reference provided to the
extraction method contained content other than scalar strings. This is an
internal script error that should not occur in normal operation.
.ie n .IP "Found js comment in non-js file $FILE" 4
.el .IP "Found js comment in non-js file \f(CW$FILE\fR" 4
.IX Item "Found js comment in non-js file $FILE"
This error occurs when attempting to parse a plugin file to determine the title
of the contained tiddler, and select the appropriate deserializer.
Specifically, the parsing routine thought it was processing a non-javascript
file but encountered a javascript comment line.
.IP "Import command failed" 4
.IX Item "Import command failed"
This error occurs if the import command fails. The shell error message is
displayed before this error.
.IP "Invalid format '$FORMAT'" 4
.IX Item "Invalid format '$FORMAT'"
The only valid formats are \*(L"tid\*(R" and \*(L"json\*(R". This error occurs if any other
format is specified with the \f(CW\*(C`\-f\*(C'\fR (\f(CW\*(C`\-\-format\*(C'\fR) option.
.IP "Missing executable 'tiddlywiki'" 4
.IX Item "Missing executable 'tiddlywiki'"
This error occurs when the \f(CW\*(C`which\*(C'\fR command (as implemented by the
\&\f(CW\*(C`File::Which\*(C'\fR module) is unable to locate the \f(CW\*(C`tiddlywiki\*(C'\fR executable.
.IP "No directory name provided" 4
.IX Item "No directory name provided"
This occurs if no argument is supplied on the command line.
.IP "No file marker found before processing '$LINE'" 4
.IX Item "No file marker found before processing '$LINE'"
This error should never occur in normal operation and indicates something has
altered the \s-1DATA\s0 section of the script. The \s-1DATA\s0 section consists of content
for macro and template files, with token lines indicating which file the
following \s-1DATA\s0 contents is intended for. It will be readily appreciated that
the first line of \s-1DATA\s0 has to be a token line. This error occurs if that is not
the case.
.IP "No output files created in '$DIR'" 4
.IX Item "No output files created in '$DIR'"
This error indicates that plugin file output failed. Specifically, the output
directory contains no files.
.IP "Output command failed" 4
.IX Item "Output command failed"
This error occurs if the plugin file output command fails. The shell error
message is displayed before this error.
.IP "Output directory '$DIR' \s-1NOT\s0 created" 4
.IX Item "Output directory '$DIR' NOT created"
This error indicates that plugin file output failed. Specifically, the output
directory which is autocreated during successful output was not created.
.IP "Output file '$FILE' already exists" 4
.IX Item "Output file '$FILE' already exists"
This error is theoretically impossible since a check is made for an existing
file just before writing, but \fIin theory\fR another process could create a file
of the same name between the file name check and the file writing.
.IP "Pack command failed" 4
.IX Item "Pack command failed"
This error occurs if the attempt to add the plugin's tiddler to the \*(L"parent\*(R"
plugin tiddler's \*(L"text\*(R" field fails. The shell error message is displayed
before this error.
.IP "The tiddlywiki version ($VER) does not have the X" 4
.IX Item "The tiddlywiki version ($VER) does not have the X"
The full text of this multi-line error is:
.Sp
.Vb 3
\&    The tiddlywiki version ($VER) does not have the
\&    same number of elements as the minimum
\&    specified version ($MIN)
.Ve
.Sp
This is largely self-explanatory. Note that tiddlywiki uses standard
semantic\ versioning <https://semver.org/> in which each version string has
three dot-separated elements: \*(L"major.minor.patch\*(R".
.IP "tiddlywiki is v$VER, need at least v$MIN" 4
.IX Item "tiddlywiki is v$VER, need at least v$MIN"
This error occurs if the \f(CW\*(C`tiddlywiki\*(C'\fR executable does not meet the minimum
version requirement.
.ie n .IP "Unable to copy '$FILE' to '$DIR': $OS_ERROR" 4
.el .IP "Unable to copy '$FILE' to '$DIR': \f(CW$OS_ERROR\fR" 4
.IX Item "Unable to copy '$FILE' to '$DIR': $OS_ERROR"
This error indicates that the plugin file was successfully output but an error
occurred when attempting copy it to the current directory. The shell's error
message is displayed at the end of this message.
.ie n .IP "Unable to extract title from $FILE" 4
.el .IP "Unable to extract title from \f(CW$FILE\fR" 4
.IX Item "Unable to extract title from $FILE"
This error occurs when attempting to parse a plugin file to determine the title
of the contained tiddler, and select the appropriate deserializer. It indicates
the routine has encountered a file whose content it is unable to successfully
analyse.
.ie n .IP "Unable to select deserializer for $FILE" 4
.el .IP "Unable to select deserializer for \f(CW$FILE\fR" 4
.IX Item "Unable to select deserializer for $FILE"
This error occurs when attempting to parse a plugin file to determine the title
of the contained tiddler, and select the appropriate deserializer. It indicates
the routine has encountered a file whose content it is unable to successfully
analyse.
.IP "Unable to write '$FILE'" 4
.IX Item "Unable to write '$FILE'"
This occurs when the file system is unable to write to the current directory.
.ie n .IP "Unexpected content in $FILE at line $NUM" 4
.el .IP "Unexpected content in \f(CW$FILE\fR at line \f(CW$NUM\fR" 4
.IX Item "Unexpected content in $FILE at line $NUM"
This error occurs when attempting to parse a plugin file to determine the title
of the contained tiddler, and select the appropriate deserializer. It indicates
the parsing routine has encountered a line it has not been programmed to
process.
.IP "Version command failed" 4
.IX Item "Version command failed"
This error occurs if the command \f(CW\*(C`tiddlywiki \-\-version\*(C'\fR command fails. The
shell error message is displayed before this error.
.RE
.RS 4
.RE
.PP
The following warning message may occur.
.RS 4
.IP "Output file '$FILE' already exists" 4
.IX Item "Output file '$FILE' already exists"
This warning is issued if the current directory already contains a file with
the same name as the plugin output file. The user is asked \*(L"Overwrite existing
file?\*(R". If the user answers in the affirmative, the file is overwritten. If the
user answers in the negative, the scripts exits with the message \*(L"Okay,
aborting now...\*(R".
.RE
.RS 4
.RE
.SH "DEPENDENCIES"
.IX Header "DEPENDENCIES"
.SS "Perl modules"
.IX Subsection "Perl modules"
Carp, Const::Fast, English, File::Basename, File::Copy, File::Find::Rule,
File::Spec, File::Which, Function::Parameters, IPC::Cmd, JSON::MaybeXS, Moo,
MooX::HandlesVia, MooX::Options, namespace::clean, Path::Tiny, strictures,
Term::Clui, Types::Path::Tiny, Types::Standard, version.
.SH "CONFIGURATION"
.IX Header "CONFIGURATION"
There are no configuration options for this script.
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
Exits with a success value (shell 0) if it extracts and writes all output files
successfully. If any error prevents this successful conclusion, the script
exits with an error code (shell 1), unless the failure is caused by an
underlying operating system error, in which case the shell error code is
returned.
.SH "INCOMPATIBILITIES"
.IX Header "INCOMPATIBILITIES"
None known.
.SH "BUGS AND LIMITATIONS"
.IX Header "BUGS AND LIMITATIONS"
Please report any bugs to the author.
.SH "AUTHOR"
.IX Header "AUTHOR"
David Nebauer (david at nebauer dot org)
.SH "LICENSE AND COPYRIGHT"
.IX Header "LICENSE AND COPYRIGHT"
Copyright (c) 2019 David Nebauer (david at nebauer dot org)
.PP
This script is free software; you can redistribute it and/or modify it under
the same terms as Perl itself.
